---
outline: deep
---

# æœ¬æ–‡æ¡£åŒæ—¶é€‚ç”¨äºä¸»é¢˜ä¸æ’ä»¶

## ä»‹ç»

### æ¦‚å¿µ

åœ¨ Freelog å¹³å°ï¼Œ`æ’ä»¶`æ˜¯æŒ‡ä½œå“ç±»å‹ä¸º`æ’ä»¶`çš„åŠŸèƒ½æ€§ä½œå“ï¼Œä¸€èˆ¬ä½œä¸º`ä¸»é¢˜`çš„ä¾èµ–åœ¨èŠ‚ç‚¹å‘æŒ¥ä½œç”¨ï¼Œå†³å®šèŠ‚ç‚¹ä¸­å†…å®¹å‹å±•å“çš„è®¿é—®ã€å±•ç¤ºå’Œäº¤äº’æ–¹å¼ã€‚

`æ’ä»¶`å¯ä»¥æ˜¯ä¸€ä¸ªæ’­æ”¾å™¨ã€ä¸€ä¸ªå›¾åºŠã€ä¸€ä¸ªç›®å½•èœå•æˆ–è€…ä¸€ä¸ªå°è¯´é˜…è¯»å™¨ã€‚

**æŠ€æœ¯ä¸Šæ¥è®²ï¼Œ`ä¸»é¢˜`æ˜¯ä¸€ä¸ªä½œä¸ºèŠ‚ç‚¹å…¥å£çš„`æ’ä»¶`ï¼Œå¹¶å…·æœ‰ä¸€äº›ç‰¹æ®Šæƒé™ã€‚**

### é€šä¿—è§£é‡Š

**`æ’ä»¶`æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æˆ‘å¸å¹³å°è¿è¡Œæ—¶çš„å¯ç®¡æ§çš„ä¸€ä¸ªå®Œæ•´åº”ç”¨æˆ–ç»„ä»¶ï¼Œä¸å¾®å‰ç«¯ç±»ä¼¼ã€‚**

**åé¢å‡ºç°çš„`è¿è¡Œæ—¶`çš†æŒ‡å¹³å°è¿è¡Œæ—¶ã€‚**

<!-- ### ç‰¹åˆ«è¯´æ˜

**æ–‡ä¸­ resourceName ä¸ articleName, resourceId ä¸ articleId å±äºåŒä¸€å±æ€§ã€‚** -->

<!-- ### è¿è¡ŒåŸç†

**æœ¬å¹³å°ä½¿ç”¨äº¬ä¸œåœ¨è¿è¡Œæ—¶æ¡†æ¶**
[https://micro-zoe.github.io/micro-app/docs.html#/](https://micro-zoe.github.io/micro-app/docs.html#/) -->

## ç¤ºä¾‹èŠ‚ç‚¹ä»£ç ä»“

[https://github.com/freelogfe/freelog-sample-themes.git](https://github.com/freelogfe/freelog-sample-themes.git)

## åŸºç¡€ä½¿ç”¨æ¡ˆä¾‹

èŠ‚ç‚¹ï¼š[https://examples.testfreelog.com](https://examples.testfreelog.com)

ä»£ç ä»“ï¼š[https://github.com/freelogfe/freelog-developer-guide-examples.git](https://github.com/freelogfe/freelog-developer-guide-examples.git)

<!-- ### æœ‰æ„æ€çš„æ€€æ—§çº¢ç™½æœº

[https://nes-game.freelog.com](https://nes-game.freelog.com) -->

## æ¡†æ¶æ”¹é€ 

[å‰å¾€æ¡†æ¶æ”¹é€ æŒ‡å—](/framework/index)

## åŸºç¡€å¼€å‘

### https è¯ä¹¦å‡†å¤‡ï¼ˆå¿…é¡»ï¼‰

**ç”±äºæµè§ˆå™¨å®‰å…¨é™åˆ¶ï¼Œæœ¬åœ°å¼€å‘éœ€è¦æœ¬åœ°ä»¥ https å¯åŠ¨ã€‚**

`webpack` è¯·å‚è€ƒ `webpack-mkcert` å·¥å…·

[https://www.npmjs.com/package/webpack-mkcert](https://www.npmjs.com/package/webpack-mkcert)

`vite` è¯·å‚è€ƒ `@vitejs/plugin-basic-ssl` æ’ä»¶

[https://github.com/vitejs/vite-plugin-basic-ssl](https://github.com/vitejs/vite-plugin-basic-ssl)

### chrome æ— æ³•è®¿é—® localhost é—®é¢˜

åœ°å€æ è¾“å…¥ï¼š`chrome://flags/#block-insecure-private-network-requests`

æŠŠ `Block insecure private network requests.` è®¾ç½®ä¸º `Disabled`

å¦‚å›¾
![chrome](/chrome.png)

### åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹å’Œä¸»é¢˜

è¿›å…¥ `console.freelog.com` ---> èŠ‚ç‚¹ç®¡ç†

åˆ›å»ºèŠ‚ç‚¹åå¿…é¡»å»ºä¸€ä¸ªä¸»é¢˜ä½œå“å¹¶ç­¾çº¦æ¿€æ´»

å‡è®¾èŠ‚ç‚¹ä¸º`https://examples.freelog.com/`

<!-- ç”¨äºå¼€å‘çš„æµ‹è¯•èŠ‚ç‚¹ä¸ºhttps://examples.freelog.com/ -->

### è¿æ¥èŠ‚ç‚¹ä¸æœ¬åœ°ä¸»é¢˜

å¯åŠ¨æœ¬åœ°ä¸»é¢˜ï¼Œä¾‹å¦‚ `https://localhost:7101`

åœ¨èŠ‚ç‚¹ url çš„`https://examples.freelog.com/`åé¢åŠ ä¸Š

```html
https://examples.freelog.com/?dev=https://localhost:7101
```

æ­¤æ—¶æœ¬åœ°ä¸»é¢˜æ›¿ä»£èŠ‚ç‚¹åŸæœ‰çº¿ä¸Šä¸»é¢˜ä½¿ç”¨ã€‚

### URL è¯´æ˜

èŠ‚ç‚¹ URL ç¤ºä¾‹ï¼š`https://examples.testfreelog.com/?theme=%2Fwidget-mount&w910d8e=%2Fwidget%2F&wa4083c1=%2Fwidget%2F`

`https://examples.testfreelog.com`ï¼š èŠ‚ç‚¹åœ°å€

`theme=%2Fwidget-mount`ï¼š

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è§„åˆ™ï¼š`${ä¸»é¢˜çš„æ¸²æŸ“id}=${ä¸»é¢˜çš„è·¯ç”±}`, `theme`ä¸ºä¸»é¢˜çš„æ¸²æŸ“ id,`%2Fwidget-mount` ä¸ºä¸»é¢˜è·¯ç”±,
è·¯ç”±é€šè¿‡ encodeURIComponent è½¬ç ï¼Œåˆå§‹è·¯ç”±ä¸º `/widget-mount`

`w910d8e=%2Fwidget%2F`:

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è§„åˆ™ï¼š`${æ’ä»¶çš„æ¸²æŸ“id}=${æ’ä»¶çš„è·¯ç”±}`, `w910d8e`ä¸ºæ’ä»¶çš„æ¸²æŸ“ id,`%2Fwidget%2F` ä¸ºæ’ä»¶è·¯ç”±,
è·¯ç”±é€šè¿‡ encodeURIComponent è½¬ç ï¼Œåˆå§‹è·¯ç”±ä¸º `/widget/`

`wa4083c1=%2Fwidget%2F`ï¼š

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è§„åˆ™ï¼šåŒä¸Š

æ³¨ï¼šé€šè¿‡ freelogApp.getSelfWidgetRenderName()è·å–è‡ªèº«æ¸²æŸ“ idã€‚

### å®‰è£… api åº“ ä¸åˆå§‹åŒ– API

```code
 npm install freelog-runtime
```

æˆ–è€…

```code
 yarn add freelog-runtime
```

æˆ–è€…

```code
 pnpm add freelog-runtime
```

```ts
// ä½¿ç”¨å‰å¯¼å…¥
import { initFreelogApp, freelogApp } from "freelog-runtime";
// ğŸ‘‡ å°†æ¸²æŸ“æ“ä½œæ”¾å…¥ mount å‡½æ•°ï¼Œå­åº”ç”¨åˆå§‹åŒ–æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œ
window.mount = () => {
  // å¿…é¡»åœ¨mountä¸­åˆå§‹åŒ–
  initFreelogApp();

  render();
};
```

### ä¸»é¢˜è·å–è‡ªèº«ä¿¡æ¯

```ts
import { widgetApi } from "freelog-runtime";
// è¿è¡Œæ—¶å·²ä¼ é€’äº†ä¸»é¢˜ä¿¡æ¯ï¼Œè‹¥è¦é‡æ–°è·å–å‚è€ƒgetTopExhibitIdè¯´æ˜
const themeInfo = widgetApi.getData().themeInfo;
```

[æŸ¥çœ‹ ä¸»é¢˜ä¿¡æ¯ æè¿°](/api/exhibit.html#getexhibitinfo)

### è·å–èŠ‚ç‚¹ä¿¡æ¯

<!-- // ç›®å‰æ²¡æœ‰æƒé™æ§åˆ¶ï¼Œä¸»é¢˜å’Œæ’ä»¶éƒ½å¯ä»¥è·å–åˆ°ï¼ŒåæœŸæ•´ä½“è€ƒè™‘æƒé™æ—¶ä¼šé™åˆ¶æ’ä»¶ä½¿ç”¨
// å¦‚æœä½¿ç”¨åˆ°äº†èŠ‚ç‚¹ä¿¡æ¯ï¼Œæ’ä»¶å¼€å‘è€…åº”å½“åœ¨ä½¿ç”¨è¯´æ˜é‡Œæ˜ç¡®ä½¿ç”¨åˆ°äº†èŠ‚ç‚¹ä¿¡æ¯ä»¥åŠæ— æ³•è·å–åˆ°çš„å½±å“ -->

```ts
import { freelogApp } from "freelog-runtime";

const nodeInfo = freelogApp.nodeInfo;
```

[æŸ¥çœ‹ èŠ‚ç‚¹ä¿¡æ¯ æè¿°](/api/exhibit.html#nodeinfo)

### åŠ è½½è‡ªèº«çš„å­ä¾èµ–æ’ä»¶

```ts
import { freelogApp, ExhibitAuthNodeInfo } from "freelog-runtime";
// è·å–è‡ªèº«ä¾èµ–ï¼Œè¿è¡Œæ—¶åŠ è½½ä¸»é¢˜æ—¶å·²ç»ä¼ é€’äº† dependencyTree, éä¸»é¢˜å¦‚æœçˆ¶æ’ä»¶æ²¡æœ‰ä¼ é€’ï¼Œè¯·ä½¿ç”¨ freelogApp.getDependencyTree(true)
const subData: ExhibitAuthNodeInfo[] = await freelogApp.getSelfDependencyTree();

// éå†ä¾èµ–
subData.forEach(async (sub: ExhibitAuthNodeInfo) => {
  // åŠ è½½æƒ³è¦çš„æ’ä»¶
  if (sub.articleName === "snnaenu/æ’ä»¶å¼€å‘æ¼”ç¤ºä»£ç æ’ä»¶") {
    selfWidget = await freelogApp.mountArticleWidget({
      articleId: sub.articleId,
      parentNid: sub.parentNid,
      nid: sub.nid,
      topExhibitId: freelogApp.getTopExhibitId(), // è·å–çˆ¶çº§å±•å“idï¼ˆè‡ªèº«æ˜¯å±•å“å°±æ˜¯è‡ªèº«å±•å“id)
      container: document.getElementById("freelog-self") as HTMLElement, // å¿…ä¼ ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªè®©æ’ä»¶æŒ‚è½½çš„divå®¹å™¨
      renderWidgetOptions: {
        data: {
          name: "è‡ªèº«ä¾èµ–æ’ä»¶",
          registerApi: (api: any) => {
            selfWidgetApi.value = api;
          },
        },
        lifeCycles: {
          mounted: (e: CustomEvent) => {
            console.log(e, "mounted");
          },
        },
      },
      seq: 0, // å¦‚æœè¦ç”¨å¤šä¸ªåŒæ ·çš„å­æ’ä»¶éœ€è¦ä¼ é€’åºå·ï¼Œå¯ä»¥è€ƒè™‘ä¸å…¶ä½™èŠ‚ç‚¹æ’ä»¶é¿å…ç›¸åŒçš„åºå·, æ³¨æ„ç”¨æˆ·æ•°æ®æ˜¯æ ¹æ®æ’ä»¶id+åºå·ä¿å­˜çš„ã€‚
      widget_entry: "https://localhost:8102", // æœ¬åœ°urlï¼Œdevæ¨¡å¼ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°urlè°ƒè¯•å­æ’ä»¶
    });
  }
});
```

[æŸ¥çœ‹ getSelfDependencyTree è¯¦æƒ…](/api/widget.html#getselfdependencytree)

[æŸ¥çœ‹ mountArticleWidget è¯¦æƒ…](/api/widget.html#mountarticlewidget)

### åŠ è½½å±•å“æ’ä»¶

```ts
import {
  freelogApp,
  ExhibitAuthNodeInfo,
  WidgetController,
  ExhibitInfo,
  GetExhibitListByPagingResult,
} from "freelog-runtime";

// è·å–æ’ä»¶åˆ—è¡¨
const res: GetExhibitListByPagingResult =
  await freelogApp.getExhibitListByPaging({
    articleResourceTypes: "æ’ä»¶",
    isLoadVersionProperty: 1,
  });
const widgets = res.data.data?.dataList;

// éå†æ’ä»¶åˆ—è¡¨
widgets.forEach(async (widget: ExhibitInfo, index: number) => {
  if (widget.articleInfo.articleName == "snnaenu/æ’ä»¶å¼€å‘æ¼”ç¤ºä»£ç æ’ä»¶") {
    // åŠ è½½æ’ä»¶
    exhibitWidget = await freelogApp.mountExhibitWidget({
      exhibitId: widget.exhibitId,
      container: document.getElementById("freelog-exhibit") as HTMLElement, // å¿…ä¼ ï¼Œè‡ªå®šä¹‰ä¸€ä¸ªè®©æ’ä»¶æŒ‚è½½çš„divå®¹å™¨
      property: widget.versionInfo?.exhibitProperty,
      dependencyTree: widget.versionInfo?.dependencyTree,
      renderWidgetOptions: {
        data: {
          name: "å±•å“æ’ä»¶",
          registerApi: (api: any) => {
            exhibitWidgetApi.value = api;
          },
        },
      },
      seq: 1, // å¦‚æœè¦ç”¨å¤šä¸ªåŒæ ·çš„å­æ’ä»¶éœ€è¦ä¼ é€’åºå·ï¼Œå¯ä»¥è€ƒè™‘ä¸å…¶ä½™èŠ‚ç‚¹æ’ä»¶é¿å…ç›¸åŒçš„åºå·, æ³¨æ„ç”¨æˆ·æ•°æ®æ˜¯æ ¹æ®æ’ä»¶id+åºå·ä¿å­˜çš„ã€‚
      widget_entry: "https://localhost:8102", // æœ¬åœ°urlï¼Œdevæ¨¡å¼ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°urlè°ƒè¯•å­æ’ä»¶
    });
    return true;
  }
  return false;
});
```

[æŸ¥çœ‹ mountExhibitWidget è¯¦æƒ…](/api/widget.html#mountexhibitwidget)

### å•ç‹¬è°ƒè¯•æŸä¸ªæ’ä»¶

å½“éœ€è¦è·³è¿‡ä¸»é¢˜ç›´æ¥è°ƒè¯•æ­£åœ¨è¿è¡Œçš„å­æ’ä»¶æˆ–å±•å“æ’ä»¶ã€‚

å®šä¹‰ï¼š `${url}?dev=replace&${widgetRenderName}-freelog=${local_entry}`

`url`: èŠ‚ç‚¹åœ°å€ã€‚

`dev=replace`: ç‰¹å®šè¯†åˆ«å‚æ•°ã€‚

`${widgetRenderName}-freelog`: æ¸²æŸ“ id åŠ -freelogã€‚

`local_entry`: æœ¬åœ°åœ°å€ã€‚

ä¸¾ä¾‹ï¼š

```html
https://nes-common.freelog.com/?dev=replace&w680fb7-freelog=https://localhost:7107/
```

`widgetRenderName` è·å–æ–¹å¼ï¼š

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.url ä¸Šå·²æœ‰æ¸²æŸ“ idã€‚

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.å¦‚æœæ¸²æŸ“åç§°æ— æ³•åŒºåˆ†ï¼Œæ’ä»¶å†…å¯ä»¥é€šè¿‡ freelogApp.getSelfWidgetRenderName()è·å–è‡ªèº«çš„æ¸²æŸ“ idã€‚

<!-- ### æ’ä»¶å¸è½½

å½“æ’ä»¶æŒ‚è½½çš„å®¹å™¨åœ¨ç»„ä»¶å†…éƒ¨æˆ–ä¸ç»„ä»¶åŒç”ŸåŒç­æ—¶ï¼Œåœ¨ç»„ä»¶å¸è½½å‰éœ€è¦å¸è½½æ’ä»¶ï¼Œå¦åˆ™å†æ¬¡åŠ è½½ä¼šæœ‰é—®é¢˜ã€‚

vue æ¡ˆä¾‹ï¼š[å‰å¾€ç¤ºä¾‹ä»£ç ](https://github.com/freelogfe/freelog-developer-guide-examples/blob/main/examples/vue3-ts-theme/src/views/widget/WidgetMount.vue)

```ts
// vueç¤ºä¾‹
onBeforeUnmount(() => {
  exhibitWidget.unmount();
});

// reactç¤ºä¾‹
useEffect(() => {
  return () => {
    freelogApp.destroyWidget(exhibitWidget.widgetId);
  };
});
``` -->

### è·å–æ’ä»¶è‡ªèº«å±æ€§

```ts
// è¿è¡Œæ—¶åŠ è½½ä¸»é¢˜æ—¶å·²ç»ä¼ é€’äº† property
// å¦‚æœä¸»é¢˜æˆ–æ’ä»¶è°ƒç”¨mountExhibitWidgetã€mountArticleWidgetåŠ è½½æ’ä»¶æ—¶ä¼ é€’äº†property
const propery = await freelogApp.getSelfProperty();

// å¦‚æœæ²¡æœ‰ä¼ é€’propertyï¼Œæˆ–è€…æƒ³è¦å¼ºåˆ¶é€šè¿‡ç½‘ç»œä»å¹³å°è·å–
const propery = await freelogApp.getSelfProperty(true);
```

### é™æ€æ–‡ä»¶å¤„ç†

**æ‰“åŒ…ä¹‹å css ä¸­çš„å­—ä½“æ–‡ä»¶å’ŒèƒŒæ™¯å›¾ç‰‡åŠ è½½ 404**

åŸå› æ˜¯æœ‰äº›åœºæ™¯æ— æ³•ä¿®æ”¹å­—ä½“æ–‡ä»¶å’ŒèƒŒæ™¯å›¾ç‰‡çš„åŠ è½½è·¯å¾„ã€‚

è§£å†³æ–¹æ¡ˆï¼š

1. å¤§å›¾ç‰‡ä¸å¤§å­—ä½“å¤„ç†æ–¹å¼ï¼š

   å¤§å›¾ç‰‡ï¼šæ”¾åœ¨ä¸éœ€è¦ æ‰“åŒ…çš„ public ç›®å½•ä¸‹ï¼Œé€šè¿‡ **freelogApp.getStaticPath(path)** è·å–æ­£ç¡®åœ°å€ï¼Œ
   å…¶ä¸­ path ä¸ºä»¥/å¼€å¤´çš„æ­£å¸¸å¼€å‘æ—¶çš„è·¯å¾„ã€‚

   å¤§å­—ä½“ï¼šï¼ˆæš‚æœªå®ç°ï¼‰å¦‚æœè·¯å¾„å†™åœ¨ css ä¸­åˆ™æ— éœ€åˆ»æ„æ”¾åœ¨ public ç›®å½•ä¸‹ï¼Œå¦‚æœä½¿ç”¨ js å»èµ‹å€¼ï¼Œåˆ™åŒå›¾ç‰‡ä¸€æ ·å¤„ç†ã€‚

2. å°æ–‡ä»¶å¤„ç†æ–¹å¼ï¼šå€ŸåŠ© webpack çš„ url-loader å°†å­—ä½“æ–‡ä»¶å’Œå›¾ç‰‡æ‰“åŒ…æˆ base64ï¼ˆé€‚ç”¨äºå­—ä½“æ–‡ä»¶å’Œå›¾ç‰‡ä½“ç§¯å°çš„é¡¹ç›®ï¼‰ã€‚

[æŸ¥çœ‹ vite æ‰“åŒ…é™æ€æ–‡ä»¶å¤„ç†](https://cn.vitejs.dev/guide/assets.html)

### ç§»åŠ¨ç«¯é€‚é…

**é™¤åª’ä½“æŸ¥è¯¢å¤–ï¼Œæ”¯æŒæœ€æ–°çš„é—®é¢˜æœ€å°‘çš„æœ€å¥½çš„ viewport å…¼å®¹æ–¹æ¡ˆ**

**æ¨èä½¿ç”¨ postcss-px-to-viewport æ’ä»¶, å„æ¡†æ¶å…·ä½“ä½¿ç”¨æ–¹æ³•è¯·ç™¾åº¦ã€‚**

**viewport ä¿®æ”¹æ–¹æ³•ï¼š**

```ts
freelogApp.setViewport(keys: any)
keys = {
  width: "device-width", // immutable
  height: "device-height", // not supported in browser
  "initial-scale": 1, // 0.0-10.0   available for theme
  "maximum-scale": 1, // 0.0-10.0   available for theme
  "minimum-scale": 1, // 0.0-10.0   available for theme
  "user-scalable": "no", // available for theme
  "viewport-fit": "auto", // not supported in browser
}
```

## å±•å“ç›¸å…³

### è·å–å±•å“åˆ—è¡¨

**åˆ†é¡µåˆ—è¡¨**

```ts
const res = await freelogApp.getExhibitListByPaging({
  skip: 0,
  limit: 20,
  isLoadVersionProperty: 0 | 1, // å¯é€‰ï¼Œæ˜¯å¦åŠ è½½ç‰ˆæœ¬ä¿¡æ¯,é»˜è®¤0
});
```

**æ¨èåˆ—è¡¨**

```ts
const res = await freelogApp.getExhibitRecommend(exhibitId, {
  recommendNorm: "resourceType",
  size: 20,
});

**å‚æ•°è¯´æ˜**
  exhibitId: string, // å±•å“ID,æ¨èæ˜¯æ ¹æ®æ­¤å±•å“çš„ä¿¡æ¯è¿›è¡Œæ¨èçš„
  query:{
    recommendNorm: string, // æ¨èæŒ‡æ ‡å¤šä¸ªç”¨é€—å·åˆ†éš”,ä¼˜å…ˆçº§ä¹ŸæŒ‰ç…§å®é™…é¡ºåºæ¥, å…·ä½“æŒ‡æ ‡ä¸º resourceType: ç›¸åŒèµ„æºç±»å‹ tag:ç›¸åŒæ ‡ç­¾(éƒ¨åˆ†) latestCreate:æœ€æ–°åˆ›å»ºçš„
    size: 20, // æ¨èæ•°é‡,é»˜è®¤æ˜¯10, æœ€å¤§100
  }
```

[æŸ¥çœ‹ getExhibitListByPaging è¯¦æƒ…](/api/exhibit.html#getexhibitlistbypaging)

**æŸ¥æ‰¾å±•å“**

```ts
const res = freelogApp.getExhibitListById(query)

**å‚æ•°è¯´æ˜**
  query:{
    exhibitIds: string, // å±•å“ids å¤šä¸ªä½¿ç”¨","éš”å¼€
    isLoadVersionProperty: 0 | 1, // å¯é€‰ï¼Œæ˜¯å¦åŠ è½½ç‰ˆæœ¬ä¿¡æ¯,é»˜è®¤0
  }
```

[æŸ¥çœ‹ getExhibitListById è¯¦æƒ…](/api/exhibit.html#getexhibitlistbyid)

### è·å–å•ä¸ªå±•å“è¯¦æƒ…

```ts
const res = await  freelogApp.getExhibitInfo(exhibitId, query)

**å‚æ•°è¯´æ˜**
  exhibitId:// å±•å“idï¼Œ
  query:{
      isLoadVersionProperty: 0 | 1, // å¯é€‰ï¼Œæ˜¯å¦åŠ è½½ç‰ˆæœ¬ä¿¡æ¯,é»˜è®¤0
  }
```

### è·å–å±•å“å±æ€§

```ts
// ä½¿ç”¨getExhibitListByPagingã€getExhibitListByIdã€getExhibitInfoå¹¶ä¼ é€’isLoadVersionPropertyä¸º1æ—¶
// ä¾‹å¦‚ï¼š
const res = await freelogApp.getExhibitInfo(exhibitId, {
  isLoadVersionProperty: 1,
});
const exhibitProperty = res.data.data.versionInfo.exhibitProperty;
```

[æŸ¥çœ‹ getExhibitInfo è¯¦æƒ…](/api/exhibit.html#getexhibitinfo)

### è·å–å±•å“ä½œå“æ–‡ä»¶

```ts
const res = await freelogApp.getExhibitFileStream(
  exhibitId,
  options
)

**å‚æ•°è¯´æ˜**
  exhibitId: // å±•å“idï¼Œ
  options: {
    returnUrl?: boolean; // æ˜¯å¦åªè¿”å›urlï¼Œ ä¾‹å¦‚imgæ ‡ç­¾å›¾ç‰‡åªéœ€è¦url
    config?: {
      onUploadProgress?: (progressEvent: any) => void;
      onDownloadProgress?: (progressEvent: any) => void;
      responseType?: ResponseType;
    },   //  axiosçš„config ç›®å‰ä»…æ”¯æŒ"onUploadProgress", "onDownloadProgress", "responseType"
    subFilePath?: string; // æ¼«ç”»ä¸­çš„å›¾ç‰‡ç­‰å­æ–‡ä»¶çš„è·¯å¾„
  },
```

### å±•å“å­ä¾èµ–åˆ—è¡¨

**åœ¨ è·å–å±•å“ ä¸ è·å–å•ä¸ªå±•å“è¯¦æƒ… æ¥å£è¿”å›æ•°æ®ä¸­**

```ts
  **å¦‚ä¸‹æ‰€ç¤ºï¼Œæ•°ç»„versionInfo.dependencyTreeå°±æ˜¯è¯¥å±•å“çš„æ‰€æœ‰å­å­™ä¾èµ–åˆ—è¡¨**
  **ç¬¬ä¸€ä¸ªä¸ºè‡ªèº«ï¼Œé€šè¿‡è‡ªèº«çš„nidå»æ‰¾å‡ºparentNidä¸ºè¯¥nidçš„ä¾èµ–å³ä¸ºç›´æ¥å­ä¾èµ–**
  {
	"ret": 0,
	"errCode": 0,
	"errcode": 0,
	"msg": "success",
	"data": {
		"exhibitId": "61b99394c9dacc002e9f5821",
    ...
		"versionInfo": {
			"exhibitId": "61b99394c9dacc002e9f5821",
			"exhibitProperty": {
				"fileSize": 6234,
				"mime": "text/markdown"
			},
			"dependencyTree": [{
				"nid": "61b99394c9da",
				"articleId": "61b993157841ed002e5c96ca",
				"articleName": "ZhuC/æµ‹è¯•md",
				"articleType": 1,
				"version": "0.1.1",
				"versionRange": "0.1.1",
				"resourceType": ["markdown"],
				"versionId": "0d786f5b273bc549454b55ea649569a3",
				"deep": 1,
				"parentNid": ""
			}, {
				"nid": "9091f75e23fb",
				"articleId": "61b9a82f2ae3ac002eb7993a",
				"articleName": "ZhuC/å…ƒå®‡å®™",
				"articleType": 1,
				"version": "0.1.0",
				"versionRange": "^0.1.0",
				"resourceType": ["video"],
				"versionId": "85fa350f4d003d0adea1fffc2852891d",
				"deep": 2,
				"parentNid": "61b99394c9da"
			}]
		}
	}
}
```

### æ‰¹é‡æŸ¥è¯¢å±•å“ä¾èµ–çš„ä½œå“ä¿¡æ¯

```ts
const res = await freelogApp.getExhibitDepInfo(
  exhibitId,
  articleNids
)
**å‚æ•°è¯´æ˜**
  exhibitId: string ,  // è‡ªèº«å±•å“id
  articleNids: string, // ä¸€ä¸ªæˆ–å¤šä¸ªé“¾è·¯id,å¤šä¸ªç”¨è‹±æ–‡é€—å·éš”å¼€, åœ¨ä¾èµ–æ ‘å½“ä¸­çš„å”¯ä¸€æ ‡è¯†id
                       // ä¾‹å¦‚ä¸Šé¢çš„dependencyTreeä¸­çš„å¤šä¸ªnid: "61b99394c9da,9091f75e23fb"

```

[æŸ¥çœ‹ getExhibitDepInfo è¯¦æƒ…](/api/exhibit.html#getexhibitdepinfo)

### è·å–å­ä¾èµ–ä½œå“æ–‡ä»¶

```ts
const res = await freelogApp.getExhibitDepFileStream(
  exhibitId,
  {
    nid,
    returnUrl
  }
)

**å‚æ•°è¯´æ˜**
  exhibitId: string, // è‡ªèº«å±•å“id
  query: {
    nid:  string, // ä¾èµ–çš„é“¾è·¯id
    subFilePath?:  string, // å¯é€‰ï¼Œä¾èµ–å†…éƒ¨çš„æ–‡ä»¶è·¯å¾„
    returnUrl?: boolean; // æ˜¯å¦åªè¿”å›urlï¼Œ ä¾‹å¦‚imgæ ‡ç­¾å›¾ç‰‡åªéœ€è¦url
    config?: {
      onUploadProgress?: (progressEvent: any) => void;
      onDownloadProgress?: (progressEvent: any) => void;
      responseType?: ResponseType;
    },   //  axiosçš„config ç›®å‰ä»…æ”¯æŒ"onUploadProgress", "onDownloadProgress", "responseType"
  }
```

### è·å–ä½œå“å±æ€§

```ts
// ä½¿ç”¨getExhibitDepInfoæ¥å£è·å–ä½œå“å±æ€§
const res = await freelogApp.getExhibitDepInfo(exhibitId, articleNids);
const articleProperty = res.data.data[0].articleProperty;
```

### è·å–é›†åˆå†…å­ä½œå“åˆ—è¡¨

```ts
const res = await freelogApp.getCollectionSubList(exhibitId, {
  sortType: 1,
  skip: 0,
  limit: 10,
  isShowDetailInfo: 0,
});

 **å‚æ•°è¯´æ˜**
  exhibitId: string, // é›†åˆå±•å“id
  {
    sortType: 1, // æ’åºæ–¹å¼: 1:å‡åº -1:é™åº
    skip: 0,
    limit: 10,
    isShowDetailInfo: 0, // æ˜¯å¦åŠ è½½å•å“æŒ‚è½½çš„ä½œå“è¯¦æƒ… 0:ä¸åŠ è½½ 1:åŠ è½½
  }
```

[æŸ¥çœ‹ getCollectionSubList è¯¦æƒ…](/api/collection.html#getcollectionsubList)

### è·å–å¤šä¸ªé›†åˆå†…å­ä½œå“åˆ—è¡¨

```ts
const res = await freelogApp.getCollectionsSubList(exhibitIds, {
  sortType: 1,
  skip: 0,
  limit: 10,
  isShowDetailInfo: 0,
});

 **å‚æ•°è¯´æ˜**
  exhibitIds: string, // å¤šä¸ªé›†åˆå±•å“idï¼Œä½¿ç”¨é€—å·éš”å¼€
  {
    sortType: 1, // æ’åºæ–¹å¼: 1:å‡åº -1:é™åº
    skip: 0,
    limit: 10,
    isShowDetailInfo: 0, // æ˜¯å¦åŠ è½½å•å“æŒ‚è½½çš„ä½œå“è¯¦æƒ… 0:ä¸åŠ è½½ 1:åŠ è½½
  }
```

[æŸ¥çœ‹ getCollectionsSubList è¯¦æƒ…](/api/collection.html#getcollectionssubList)

### è·å–é›†åˆå†…å­ä½œå“è¯¦æƒ…

```ts
const res = await freelogApp.getCollectionSubInfo(exhibitId, {
    itemId: "a2b0784da2b0784d",
 });

 **å‚æ•°è¯´æ˜**
  exhibitId: string, // é›†åˆå±•å“id
  {
    itemId:  string, // å­ä½œå“id
  }
```

[æŸ¥çœ‹ getCollectionSubInfo è¯¦æƒ…](/api/collection.html#getcollectionsubinfo)

### è·å–é›†åˆå†…å­ä½œå“æˆæƒç»“æœ

```ts
const res = await freelogApp.getCollectionSubAuth(exhibitId, {
    itemIds: "a2b0784da2b0784d,a2b0784da2b0784d", // å­ä½œå“id, å¤šä¸ªç”¨è‹±æ–‡é€—å·åˆ†éš”
 });

 **å‚æ•°è¯´æ˜**
  exhibitId: string, // é›†åˆå±•å“id
  {
    itemIds:  string, // å­ä½œå“id,å¤šä¸ªç”¨â€œ,â€éš”å¼€
  }
```

[æŸ¥çœ‹ getCollectionSubAuth è¯¦æƒ…](/api/collection.html#getcollectionsubauth)

### è·å–é›†åˆå†…å­ä½œå“æ–‡ä»¶æˆ–å­æ–‡ä»¶

```ts

const res = await freelogApp.getCollectionSubFileStream(exhibitId,
{itemId,returnUrl: false, subFilePath: "/a.png"});

**å‚æ•°è¯´æ˜**
  exhibitId: string, // é›†åˆå±•å“id
  {
    itemId:  string, // å­ä½œå“id
    returnUrl?: boolean // å¯é€‰ï¼Œé»˜è®¤falseï¼Œæ˜¯å¦åªè¿”å›urlï¼Œ ä¾‹å¦‚imgæ ‡ç­¾å›¾ç‰‡åªéœ€è¦url
    subFilePath?: string; // ä½œå“å†…éƒ¨å­æ–‡ä»¶è·¯å¾„
  }
```

### è·å–é›†åˆå†…å­ä½œå“çš„ä¾èµ–åˆ—è¡¨

```ts

const res = await freelogApp.getCollectionSubDepList(exhibitId, {
  itemId
});

**å‚æ•°è¯´æ˜**
  exhibitId: string, // é›†åˆå±•å“id
  {
    itemId:  string, // å­ä½œå“id
  }
```

[æŸ¥çœ‹ getCollectionSubDepList è¯¦æƒ…](/api/collection.html#getcollectionsubdeplist)

### è·å–é›†åˆå†…å­ä½œå“çš„ä¾èµ–æ–‡ä»¶æˆ–ä¾èµ–çš„å­æ–‡ä»¶

```ts

const res = await freelogApp.getCollectionSubDepFileStream(exhibitId, {
  itemId,
  nid,
  subFilePath
  returnUrl: false
});

**å‚æ•°è¯´æ˜**
  exhibitId: string, // é›†åˆå±•å“id
  {
    itemId:  string, // å­ä½œå“id
    nid:  string, // ä¾èµ–çš„é“¾è·¯id
    subFilePath?:  string, // å¯é€‰ï¼Œå­ä½œå“çš„ä¾èµ–å†…éƒ¨çš„æ–‡ä»¶è·¯å¾„
    returnUrl?: boolean // å¯é€‰ï¼Œé»˜è®¤falseï¼Œæ˜¯å¦åªè¿”å›urlï¼Œ ä¾‹å¦‚imgæ ‡ç­¾å›¾ç‰‡åªéœ€è¦url
  }
```

### æŸ¥æ‰¾å±•å“ç­¾çº¦æ•°é‡

**è¯´æ˜ï¼šåŒä¸€ä¸ªç”¨æˆ·çš„å¤šæ¬¡ç­¾çº¦åªè®¡ç®—ä¸€æ¬¡ã€‚**

```ts
const res = await freelogApp.getExhibitSignCount(
  exhibitIds: string
)

**å‚æ•°è¯´æ˜**
  exhibitIds:string // ä¸€ä¸ªæˆ–å¤šä¸ªå±•å“idï¼Œå¤šä¸ªç”¨è‹±æ–‡é€—å·éš”å¼€
```

[æŸ¥çœ‹ getExhibitSignCount è¯¦æƒ…](/api/exhibit.html#getexhibitsigncount)

### æ‰¹é‡æŸ¥è¯¢å±•å“æˆæƒ

```ts
const res = await freelogApp.getExhibitAuthStatus(
  exhibitIds: string
)

**å‚æ•°è¯´æ˜**
  exhibitIds: string //  ä¸€ä¸ªæˆ–å¤šä¸ªå±•å“idï¼Œå¤šä¸ªç”¨è‹±æ–‡é€—å·éš”å¼€

**è¿”å›å€¼**
res:{
  "ret": 0,
  "errCode": 0,
  "msg": "success",
  "data": [
    {
      "exhibitId": "608667da52abf900867dfd48",
      "exhibitName": "novel-theme",
      "authCode": 200,
      "referee": 2,
      "defaulterIdentityType": 0,
      "isAuth": true,  // æ˜¯å¦æˆæƒ
      "errorMsg": ""
    }
  ]
}
```

[æŸ¥çœ‹ getExhibitAuthStatus è¯¦æƒ…](/api/exhibit.html#getexhibitauthstatus)

### æ‰¹é‡æŸ¥è¯¢å±•å“æ˜¯å¦å¯ç”¨

**å³èŠ‚ç‚¹æ˜¯å¦å®Œå…¨è·å¾—æˆæƒï¼Œåªæœ‰å®Œå…¨è·å¾—æˆæƒæ‰èƒ½æä¾›ç»™ç”¨æˆ·ç­¾çº¦ã€‚**

```ts
const res = await freelogApp.getExhibitAvailable(
  exhibitIds: string
)

**å‚æ•°è¯´æ˜**
  exhibitIds: string //  ä¸€ä¸ªæˆ–å¤šä¸ªå±•å“idï¼Œå¤šä¸ªç”¨è‹±æ–‡é€—å·éš”å¼€

**è¿”å›å€¼**
{
  "ret": 0,
  "errCode": 0,
  "msg": "success",
  "data": [
    {
      "exhibitId": "608667da52abf900867dfd48",
      "exhibitName": "novel-theme",
      "authCode": 200,
      "referee": 2,
      "defaulterIdentityType": 0,
      "isAuth": true, // èŠ‚ç‚¹ä¾§æ˜¯å¦è·å¾—æˆæƒ
      "errorMsg": ""
    }
  ]
}
```

[æŸ¥çœ‹ getExhibitAvailable è¯¦æƒ…](/api/exhibit.html#getexhibitavailable)

### æˆæƒå¤„ç†

**è¯´æ˜ï¼šç›®å‰åªæ”¯æŒå•ä¸ªå±•å“æˆæƒå¤„ç†ï¼Œå¦‚æœå¤šä¸ªæ’ä»¶åŒæ—¶è°ƒç”¨ï¼Œä¼šä»¥æœ€åä¸€æ¬¡è°ƒç”¨ä¸ºå‡†ã€‚**

**å•ä¸ªå‘¼å‡ºæˆæƒï¼š**

```ts
  // æœªæˆæƒçš„å±•å“æäº¤ç»™è¿è¡Œæ—¶å¤„ç†
  const res = await freelogApp.addAuth(exhibitId, {
    immediate: true,
  });

  **å‚æ•°è¯´æ˜**
    exhibitId: string, // å±•å“id
    options?: {
      immediate: boolean  // æ˜¯å¦ç«‹å³å¼¹å‡ºæˆæƒçª—å£
    }

  **resè¿”å›å€¼è¯´æ˜**

    ç¤ºä¾‹ï¼š{status: SUCCESS, data}

    è§£é‡Šï¼š
      status æšä¸¾åˆ¤æ–­ï¼š
        status === freelogApp.resultType.SUCCESS;  // æˆåŠŸ
        status === freelogApp.resultType.FAILED;   // å¤±è´¥
        status === freelogApp.resultType.USER_CANCEL; // ç”¨æˆ·å–æ¶ˆ
        status === freelogApp.resultType.DATA_ERROR;  // æ•°æ®é”™è¯¯
        status === = freelogApp.resultType.OFFLINE; // å±•å“å·²ç»ä¸‹çº¿
      data: å¦‚æœæ˜¯DATA_ERRORæˆ–OFFLINEï¼Œä¼šè¿”å›é”™è¯¯æ•°æ®æˆ–å±•å“æ•°æ®

```

**å‘¼å‡ºæˆæƒï¼š**

```ts
// å½“addAuthæœªæˆæƒå±•å“ä¸”æ²¡æœ‰ç«‹åˆ»å‘¼å‡ºå¯ä»¥é€šè¿‡callAuth()å”¤å‡º
freelogApp.callAuth();
```

## ç”¨æˆ·ç›¸å…³

### å”¤èµ·ç™»å½•

```ts
// callback: ç™»å½•æˆåŠŸæˆ–ç”¨æˆ·å–æ¶ˆåçš„å›è°ƒ
freelogApp.callLogin(callback);
```

[æŸ¥çœ‹ callLogin è¯¦æƒ…](/api/user.html#calllogin)

### é€€å‡ºç™»å½•

<!-- TODO è¿™é‡Œè¦æœ‰ç½‘ç»œé”™è¯¯çš„å›è°ƒ -->

```ts
// ç™»å‡ºåä¼šåˆ·æ–°æ•´ä¸ªé¡µé¢
freelogApp.callLoginOut();
```

### è·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯

```ts
const res = await freelogApp.getCurrentUser();
```

[æŸ¥çœ‹ getCurrentUser è¯¦æƒ…](/api/user.html#getcurrentuser)

### ç›‘å¬ç”¨æˆ·ç™»å½•äº‹ä»¶

```ts
**å‚æ•°è¯´æ˜**
  resolve: Function // ç™»å½•æˆåŠŸå›è°ƒ
  reject: Function // ç™»å½•å¤±è´¥åç”¨æˆ·å…³é—­ç™»å½•çª—å£çš„å›è°ƒ
freelogApp.onLogin(resolve,reject);
```

### ç›‘å¬ç”¨æˆ·åœ¨å…¶ä½™é¡µé¢åˆ‡æ¢è´¦å·æˆ–ç™»å½•äº‹ä»¶

```ts
// callback: å†æ¬¡è¿›å…¥é¡µé¢å‘ç°è´¦å·å˜åŒ–åä¼šå›è°ƒæ‰€æœ‰å‡½æ•°
freelogApp.onUserChange(callback);
```

### ç”¨æˆ·æ•°æ®

```ts
// æ›´æ–°ç”¨æˆ·æ•°æ®   data ä¸ºä»»æ„å¯¹è±¡ï¼Œ
const res = await freelogApp.setUserData(key, data);
// è·å–ç”¨æˆ·æ•°æ®
const res = await freelogApp.getUserData(key);
```

[æŸ¥çœ‹ setUserData è¯¦æƒ…](/api/user.html#setuserdata)

[æŸ¥çœ‹ getUserData è¯¦æƒ…](/api/user.html#getuserdata)

## æ‰“åŒ…ä¸Šä¼ 

**æ­£å¸¸ build åï¼Œå°†æ‰“åŒ…åçš„æ‰€æœ‰æ–‡ä»¶å‹ç¼©ä¸ºä¸€ä¸ª zip æ–‡ä»¶ï¼ˆæ— æ ¹ç›®å½•ï¼‰ï¼Œä½œä¸ºä¸»é¢˜ theme æˆ–æ’ä»¶ widget ç±»å‹ä¸Šä¼ ä¸ºä½œå“**

<!-- ## æ¨¡æ¿ä¸‹è½½ -->

<!-- [vueæ¨¡æ¿](https://freelog-docs.freelog.com/$freelog-60a614de12ac83003f09d975=/dev/guide)  -->

<!-- ## ç§»åŠ¨ç«¯çœŸæœºè°ƒè¯• vconsole

**å°† dev æ”¹æˆ devconsole**

æ­¤æ—¶æ— è®ºç§»åŠ¨ç«¯è¿˜æ˜¯ç”µè„‘ç«¯éƒ½ä¼šå‡ºç° vconsole

https://examples.freelog.com/?devconsole=https://localhost:8081 -->
